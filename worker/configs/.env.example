APP_NAME=video-worker
LOG_LEVEL=info

REDIS_ADDR=redis:6379
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_STREAM=video_tasks
REDIS_GROUP=video_worker
REDIS_CONSUMER=video_worker_1
REDIS_BLOCK_TIMEOUT=5s
REDIS_MAX_DELIVERIES=5

WORKER_POOL_SIZE=4
PROCESSING_TIMEOUT=5m
PROCESSED_BASE_URL=/processed/

POSTGRES_DSN=postgres://postgres:postgres@postgres:5432/anb_showcase?sslmode=disable

# Storage Backend Configuration
# Options: "nextcloud" or "s3"
STORAGE_BACKEND=s3

# NextCloud Configuration (required when STORAGE_BACKEND=nextcloud)
NEXTCLOUD_URL=http://nextcloud
NEXTCLOUD_ROOT=/remote.php/dav/files/worker
NEXTCLOUD_USERNAME=worker
NEXTCLOUD_PASSWORD=super-secret

# S3 Configuration (required when STORAGE_BACKEND=s3)
# Region where the S3 bucket is located
S3_REGION=us-east-1
# S3 bucket name
S3_BUCKET=video-processing-bucket
# AWS credentials (optional - leave empty to use IAM roles or environment variables)
S3_ACCESS_KEY=
S3_SECRET_KEY=
# Custom endpoint for S3-compatible services like MinIO (leave empty for AWS S3)
S3_ENDPOINT=

# Note: PROCESSED_BASE_URL is used as the S3 prefix for both NextCloud and S3 backends
PROCESSED_BASE_URL=/processed/

METRICS_ADDR=:9090
SHUTDOWN_GRACE=30s
