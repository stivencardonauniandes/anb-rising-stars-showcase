# SonarQube Project Configuration for ANB Rising Stars Showcase

# Project identification
sonar.projectKey=miso-cloud-course_anb-rising-stars-showcase
sonar.organization=miso-cloud-course

# Source code configuration
sonar.sources=api/
sonar.tests=api/tests/
sonar.sourceEncoding=UTF-8

# Language and file extensions
sonar.python.version=3.11

# Exclude directories from analysis
sonar.exclusions=**/migrations/**,**/alembic/**,**/__pycache__/**,**/venv/**,**/env/**,**/htmlcov/**,.git/**,**/node_modules/**,**/dist/**,**/build/**

# Test exclusions
sonar.test.exclusions=**/test_*.py,**/tests/**

# Coverage reports
sonar.python.coverage.reportPaths=api/coverage.xml
sonar.python.xunit.reportPath=api/pytest-report.xml

# Code analysis
sonar.python.pylint.reportPaths=api/pylint-report.json
sonar.python.bandit.reportPaths=api/bandit-report.json

# Quality gate settings
sonar.qualitygate.wait=true

# Coverage thresholds
sonar.coverage.exclusions=**/tests/**,**/test_*.py,**/conftest.py,**/migrations/**,**/alembic/**

# Duplication settings
sonar.cpd.python.minimumTokens=50

# Additional properties for better analysis
sonar.python.file.suffixes=.py
sonar.scanner.force-deprecated-java-version=true

# Branch and PR analysis
sonar.branch.name=${GITHUB_REF_NAME}
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=${GITHUB_REPOSITORY}

# Security hotspots
sonar.security.hotspots.inheritFromParent=true

# Security exclusions for test files
# Exclude test credentials from security analysis - these are legitimate test values
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S2068
sonar.issue.ignore.multicriteria.e1.resourceKey=**/tests/**

# Technical debt settings
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.developmentCost=30

# Maintainability rating thresholds
sonar.maintainability-rating.grid=A=0.05,B=0.1,C=0.2,D=0.5

# Reliability rating thresholds  
sonar.reliability-rating.grid=A=0,B=1,C=2,D=5

# Security rating thresholds
sonar.security-rating.grid=A=0,B=1,C=3,D=5
